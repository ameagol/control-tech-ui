<mat-card class="mat-elevation-z8 entry-card">
    <form [formGroup]="registerForm" class="entry-form">
        <mat-card-content *ngIf="!successMessage">
            <mat-form-field appearance="outline">
                <mat-label>User email</mat-label>
                <input matInput formControlName="email" type="email">
                <mat-icon matSuffix>alternate_email</mat-icon>
                <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
                    Email is required.
                </mat-error>
                <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
                    Enter a valid email address.
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Password</mat-label>
                <input matInput formControlName="password" type="password">
                <mat-icon matSuffix>key</mat-icon>
                <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
                    Password is required.
                </mat-error>
                <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
                    Password must be at least 8 characters.
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Confirm Password</mat-label>
                <input matInput formControlName="confirmPassword" type="password">
                <mat-icon matSuffix>key</mat-icon>
                <mat-error *ngIf="registerForm.hasError('passwordsMismatch')">
                    Passwords do not match.
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Company</mat-label>
                <input matInput formControlName="company">
                <mat-icon matSuffix>business</mat-icon>
                <mat-error *ngIf="registerForm.get('company')?.hasError('required')">
                    Company Name is required.
                </mat-error>
                <mat-error *ngIf="registerForm.get('company')?.hasError('maxlength')">
                    Company Name must not exceed 30 characters.
                </mat-error>
            </mat-form-field>
        </mat-card-content>
    </form>
    <mat-card-actions *ngIf="!successMessage">
        <button mat-raised-button color="primary" (click)="register()" [disabled]="registerForm.invalid">
            Create Account
        </button>
    </mat-card-actions>
    <mat-card-actions *ngIf="successMessage">
        <button mat-raised-button color="primary" (click)="login()">
            Login Now
        </button>
    </mat-card-actions>

    <span *ngIf="errorMessage">{{errorMessage}}</span>
</mat-card>
